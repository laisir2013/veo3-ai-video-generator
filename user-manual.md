# VEO3 視頻生成系統 - 完整使用指南

## 🎯 概述

VEO3 是一個先進的 AI 視頻生成系統，整合了多個頂級 AI 模型，支援從故事創作到視頻製作的完整流程。

### 🌟 核心功能
- **智能故事生成**：AI 自動創建引人入勝的故事情節
- **多模型支持**：Veo 3.1、Kling、Runway 等頂級視頻生成模型
- **多語言配音**：支援粤語、普通話、英語的專業配音
- **角色管理**：自動識別和管理故事角色
- **風格選擇**：17 種預設視覺風格
- **批量生成**：智能分段，批量處理長視頻
- **視頻合併**：自動合併多個片段為完整影片

## 🚀 快速開始

### 本地部署

1. **解壓專案**
```bash
tar -xzf veo3-complete-package.tar.gz
cd veo3-source
```

2. **運行自動安裝腳本**
```bash
chmod +x install.sh
./install.sh
```

3. **配置 API Keys**
```bash
# 編輯 .env.local 文件
nano .env.local

# 添加必要的 API Keys：
OPENAI_API_KEY=sk-your-openai-key
ANTHROPIC_API_KEY=sk-ant-your-claude-key
VECTOR_ENGINE_API_KEY=your-vector-engine-key
KREADO_API_KEY=your-kreado-key
```

4. **啟動應用**
```bash
./start-dev.sh
# 或
pnpm dev
```

5. **訪問應用**
- 前端：http://localhost:5173
- 後端：http://localhost:3000

### 手機版本部署

#### 方案 1：PWA (推薦)
```bash
chmod +x setup-pwa.sh
./setup-pwa.sh
```

#### 方案 2：原生應用
參考 `mobile-guide.md` 中的 Capacitor 或 React Native 方案。

## 📱 功能詳細說明

### 1. 視頻生成模式

#### 快速模式 ⚡
- **LLM 模型**：GPT-5.2
- **視頻模型**：Veo 3.1 Fast
- **特點**：生成速度快，適合快速預覽
- **使用場景**：概念驗證、快速迭代

#### 高質量模式 💎  
- **LLM 模型**：Claude 4.5 Opus
- **視頻模型**：Veo 3.1 Pro
- **特點**：畫質精良，細節豐富
- **使用場景**：最終作品、商業用途

### 2. 生成類型

#### 固定人物模式 👤
- 圍繞主角展開的故事
- 角色一致性更好
- 適合人物導向的敘事

#### 劇情模式 🎬
- 注重情節發展
- 場景變化豐富
- 適合複雜敘事結構

### 3. 語言支持

#### 粤語 🗣️
- 地道的粤語配音
- 支援香港文化元素
- 多種聲線選擇

#### 普通話 🇨🇳
- 標準普通話發音
- 支援大陸文化背景
- 豐富的聲線庫

#### English 🇺🇸
- 純正英語配音
- 國際化內容支持
- 多種口音選擇

### 4. 視覺風格

系統預設 17 種專業風格：
- 🎨 **寫實風格**：真實感強，適合紀實類
- 🌟 **動漫風格**：日式動漫美學
- 🎭 **復古風格**：懷舊復古色調
- 🌅 **電影風格**：電影級畫面質感
- 🖼️ **抽象風格**：藝術性表達
- 🏛️ **古典風格**：古典藝術風格
- 🤖 **科幻風格**：未來科技感
- 🌙 **暗黑風格**：神秘陰暗氛圍
- ☀️ **明亮風格**：清新明快色調
- 🌈 **彩色風格**：繽紛多彩視覺
- ⚫ **黑白風格**：經典黑白美學
- 🎨 **水彩風格**：柔美水彩效果
- ✏️ **素描風格**：手繪素描質感
- 🖌️ **水墨風格**：中國水墨畫風
- 🌸 **小清新風格**：清新淡雅風格
- 💫 **夢幻風格**：浪漫夢幻氛圍
- 🔥 **震撼風格**：強烈視覺衝擊

## 🎛️ 高級功能

### 批量生成

1. **設置時長**：1-60 分鐘可選
2. **自動分段**：系統自動分為 8 秒片段
3. **批次處理**：每次處理 6 個片段，避免 API 限流
4. **進度追蹤**：實時顯示生成進度

### 多角色管理

1. **自動識別**：AI 自動分析故事中的角色
2. **角色匹配**：智能匹配已有角色庫
3. **聲音綁定**：為每個角色分配專屬配音
4. **一致性保證**：確保角色在不同場景中的一致性

### 視頻後製

1. **自動合併**：將多個片段合併為完整影片
2. **背景音樂**：可添加背景音樂
3. **字幕生成**：自動生成並添加字幕
4. **畫質增強**：支援畫質升級

## 🔧 系統配置

### API Keys 配置

#### OpenAI (必須)
```env
OPENAI_API_KEY=sk-proj-xxxxx
```
用途：GPT-4/5 文本生成，DALL-E 圖像生成

#### Anthropic (必須)  
```env
ANTHROPIC_API_KEY=sk-ant-xxxxx
```
用途：Claude 高質量文本生成

#### VectorEngine (必須)
```env  
VECTOR_ENGINE_API_KEY=xxxxx
```
用途：Midjourney 圖像生成，TTS 配音

#### KreadoAI (必須)
```env
KREADO_API_KEY=xxxxx
```
用途：多語言 TTS 配音系統

### 資料庫配置

```env
DATABASE_URL=mysql://username:password@localhost:3306/veo3_db
```

### AWS S3 配置 (可選)

```env
AWS_ACCESS_KEY_ID=xxxxx
AWS_SECRET_ACCESS_KEY=xxxxx
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-bucket-name
```

## 🔄 備用機制

系統具備完善的備用機制：

### LLM 備用
- 主要：GPT-5.2 ↔ Claude 4.5 互為備用
- 次要：GPT-4o, GPT-4o-mini

### 視頻生成備用
1. **Veo 3.1 Pro** (主要)
2. **Veo 3.1 Fast** (備用)
3. **Runway Gen4** (次備用)
4. **Kling v2.6** (最終備用)

### TTS 備用
1. **KreadoAI** (主要)
2. **VectorEngine TTS** (備用)
3. **ElevenLabs** (次備用)

### 圖像生成備用
1. **Midjourney** (主要)
2. **DALL-E 3** (備用)

## 📊 性能優化

### 前端優化
- **懶載入**：按需載入組件
- **圖片壓縮**：自動壓縮上傳圖片
- **快取機制**：智能快取常用資源
- **PWA 支援**：離線使用能力

### 後端優化
- **API 輪換**：13 組 API Key 輪流使用
- **批次處理**：避免 API 限流
- **錯誤重試**：自動重試失敗請求
- **負載均衡**：智能分配請求

### 資料庫優化
- **索引優化**：關鍵字段建立索引
- **連接池**：複用資料庫連接
- **快取查詢**：快取常用查詢結果

## 🛠️ 常見問題

### Q: 生成速度慢怎麼辦？
A: 
1. 選擇快速模式
2. 檢查網路連接
3. 確認 API Key 額度
4. 避免高峰時段

### Q: 生成失敗怎麼辦？
A:
1. 檢查 API Key 是否有效
2. 確認賬戶餘額充足
3. 重新嘗試生成
4. 查看後端日誌

### Q: 如何提高生成質量？
A:
1. 使用高質量模式
2. 詳細描述故事和角色
3. 選擇合適的視覺風格
4. 使用原創性內容

### Q: 手機版本如何使用？
A:
1. PWA：瀏覽器中添加到主畫面
2. 原生：下載安裝 APK/IPA
3. 確保網路連接穩定
4. 使用觸控友好界面

## 🔐 安全須知

1. **API Key 保護**：不要在前端暴露 API Key
2. **資料備份**：定期備份重要資料
3. **訪問控制**：設置適當的用戶權限
4. **HTTPS 部署**：生產環境使用 HTTPS
5. **定期更新**：保持依賴包更新

## 📈 監控和維護

### 日誌監控
```bash
# 查看應用日誌
tail -f server.log

# 查看資料庫日誌
tail -f /var/log/mysql/error.log
```

### 性能監控
- 使用 PM2 進行進程管理
- 設置 Grafana + Prometheus 監控
- 配置 New Relic APM

### 定期維護
- 清理臨時文件
- 備份資料庫
- 更新依賴包
- 檢查 API 使用情況

---

## 🎉 開始創作

現在您已經了解了 VEO3 的完整功能，可以開始創作您的第一個 AI 視頻了！

**建議工作流程**：
1. 🎯 確定創作主題和風格
2. 📝 輸入故事概要或讓 AI 生成
3. 🎨 選擇視覺風格和配音語言
4. ⚡ 先用快速模式預覽
5. 💎 滿意後用高質量模式完成
6. 🎬 合併片段並添加後製效果

祝您創作愉快！ 🚀